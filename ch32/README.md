# CH32 테이블 결합

<br />

>
***" 테이블 결합은 RDBMS 에서 대단히 중요한 개념입니다. "***
>

<br />

## 곱집합과 교차결합

<br />

>
***" 곱집합은 합집합이나 교집합처럼 집합의 연산 방법중 하나입니다. 두개의 집합을 곱하는 연산 방법으로 '적집합' 또는 '카티전곱( Cartesian product )' 라고도 불립니다. "***
>

<br />

>
기준 집합과 대상 집합이 존재한다면 기준 집합의 요소 한개와 대상 집합의 각 요소들의 결합을 말한다. 대상 집합의 요소가 3개, 기준 집합이 2 개라면 2 * 3 으로 총 6개의 집합요소를 만든다. 
>

<br />

### - 교차집합( Cross Join )

<br />

```sql

/* FROM 구에 테이블을 2개 지정하면, 곱집합으로 계산된다. */
SELECT * FROM table1, table2;


```

<br />

## 내부결합

<br />

>
***" 참조할 테이블의 기본키와 동일한 이름과 자료형으로 열을 만들어서 행을 연결하는 경우가 많습니다.  "***
>

<br />

>
***" 교차집합으로 계산된 곱집합에서 원하는 조합을 검색하는 것을 '내부결합( Inner Join ) 이라 부릅니다.'  "***
>

<br />

## Inner Join 으로 내부결합하기 

<br />

>

* FROM 구에 테이블을 복수 지정해 가로 방향으로 테이블을 결합할 수 있다.   
* 교차집합을 하면 곱집합으로 계산된다.
* WHERE 조건을 지정해 곱집합에서 필요한 집하만 검색할 수 있다.

>

<br />

```sql

SELECT Table1.field, table2.field
	FROM table1 INNER JOIN table2 /* inner join 을 사용하여 내부결합*/
		ON table1.id = table2.id /* 결합조건 */
	WHERE table1.field2 = 'condName'; /* 결합된 테이블에서 추출할 row 조건식 */

```

<br />

>
***" INNER JOIN 으로 두개 테이블을 가로로 결합할수 있다.  "***
>

<br />

## 내부결합을 활용한 데이터 관리

<br />

>
***" A 와 B 를 결합했을때, A 와 B 중 어느쪽이 하나의 행만 가지는지( 일대다, 다대일 ) 아니면 양쪽 모두 하나의 행을 가지는지( 일대일 ) 등과 같은 '서로 결합하는 테이블 간의 관계' 가 중요합니다.  "***
>

<br />

### - 외부키( Forgin key )

<br />

>
***" 다른 테이블의 기본키를 참조하는 열이 외부키가 됩니다.  "***
>

<br />

### - 자기겨합( Self Join )

<br />

>
***" 자기결합은 테이블에 별명을 붙일 수 있는 기능을 이용해 같은 테이블끼리 결합하는 것을 말합니다.  "***
>

<br />

>
***" 자기결합은 자기 자신의 키본키를 참조하는 열을 자기 자신이 가지는 데이터 구조로 되어 있을 경우에 자주 사용됩니다.  "***
>

<br />

## 외부결합

<br />


>
***" 어느 한쪽에만 존재하는 데이터행을 어떻게 다룰지를 변경할 수 있는 결합방법입니다.  "***
>

<br />

```sql

SELECT table1.field, table2.field
	FROM table1 LEFT JOIN table2
		ON table1.code = table2.code
	WHERE table1.fieldName = 'cond';

```

<br />

>
***" 외부결합은 결합하는 테이블 중에 어느쪽을 기준으로 할지 결정할 수 있습니다.  "***
>

<br />

>
***" LEFT JOIN, RINGHT JOIN 으로 외부결합을 할 수 있다. "***
>

<br />


